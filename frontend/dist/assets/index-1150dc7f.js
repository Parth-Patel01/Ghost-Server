import{r,a as be,u as ve,L,b as me,c as ye,B as we,R as je,d as Q,e as Ne}from"./vendor-0c768f65.js";import{a as ke,H as X}from"./utils-bb83daed.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const w of g.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&a(w)}).observe(document,{childList:!0,subtree:!0});function n(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerPolicy&&(g.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?g.credentials="include":l.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function a(l){if(l.ep)return;l.ep=!0;const g=n(l);fetch(l.href,g)}})();var ue={exports:{}},q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=r,Ee=Symbol.for("react.element"),Se=Symbol.for("react.fragment"),Ce=Object.prototype.hasOwnProperty,Le=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$e={key:!0,ref:!0,__self:!0,__source:!0};function he(t,s,n){var a,l={},g=null,w=null;n!==void 0&&(g=""+n),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(w=s.ref);for(a in s)Ce.call(s,a)&&!$e.hasOwnProperty(a)&&(l[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)l[a]===void 0&&(l[a]=s[a]);return{$$typeof:Ee,type:t,key:g,ref:w,props:l,_owner:Le.current}}q.Fragment=Se;q.jsx=he;q.jsxs=he;ue.exports=q;var e=ue.exports,ee={},ne=be;ee.createRoot=ne.createRoot,ee.hydrateRoot=ne.hydrateRoot;function Re({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ue=r.forwardRef(Re),xe=Ue;function Pe({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const Fe=r.forwardRef(Pe),Ae=Fe;function Ie({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const _e=r.forwardRef(Ie),Oe=_e;function De({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Te=r.forwardRef(De),Be=Te;function We({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const He=r.forwardRef(We),se=He;function ze({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ve=r.forwardRef(ze),re=Ve;function Qe({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Ze=r.forwardRef(Qe),Je=Ze;function Xe({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const Ke=r.forwardRef(Xe),qe=Ke;function Ge({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ye=r.forwardRef(Ge),oe=Ye;function et({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const tt=r.forwardRef(et),K=tt;function st({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const rt=r.forwardRef(st),ge=rt;function at({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const nt=r.forwardRef(at),D=nt;function ot({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const lt=r.forwardRef(ot),le=lt;function it({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const ct=r.forwardRef(it),ie=ct;function dt({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const mt=r.forwardRef(dt),ut=mt;function ht({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const xt=r.forwardRef(ht),gt=xt;function pt({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const ft=r.forwardRef(pt),bt=ft;function vt({title:t,titleId:s,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},n),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const yt=r.forwardRef(vt),te=yt;function pe(t){var s,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(n=pe(t[s]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function ce(){for(var t,s,n=0,a="",l=arguments.length;n<l;n++)(t=arguments[n])&&(s=pe(t))&&(a&&(a+=" "),a+=s);return a}const de=[{name:"Library",href:"/",icon:oe},{name:"Upload",href:"/upload",icon:Je},{name:"Media Only",href:"/media-only",icon:oe}],wt=()=>{const t=ve(),[s,n]=r.useState(!1),[a,l]=r.useState(!1),g=()=>n(!s),w=()=>l(!a);return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"hidden md:flex flex-col bg-black border-r border-gray-800 w-64 min-h-screen fixed md:static z-30",children:[e.jsx("div",{className:"flex items-center px-6 py-8",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"SoulStream"})}),e.jsx("div",{className:"flex-1 flex flex-col space-y-2 px-4",children:de.map(y=>{const $=t.pathname===y.href;return e.jsxs(L,{to:y.href,className:ce("flex items-center px-4 py-3 rounded-lg text-base font-medium transition-all duration-200",$?"bg-white text-black":"text-gray-300 hover:text-white hover:bg-gray-900"),tabIndex:0,children:[e.jsx(y.icon,{className:"h-6 w-6 mr-3"}),y.name]},y.name)})})]}),e.jsx("nav",{className:"md:hidden bg-black border-b border-gray-800 z-30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-xl font-bold text-white",children:"SoulStream"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:w,className:"p-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:e.jsx(K,{className:"h-6 w-6"})}),e.jsx("button",{onClick:g,className:"p-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:s?e.jsx(te,{className:"h-6 w-6"}):e.jsx(Be,{className:"h-6 w-6"})})]})]}),a&&e.jsx("div",{className:"px-2 pb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search movies...",className:"w-full px-4 py-2 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-white"}),e.jsx(K,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})}),s&&e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 border-t border-gray-800 bg-black",children:de.map(y=>{const $=t.pathname===y.href;return e.jsxs(L,{to:y.href,onClick:()=>n(!1),className:ce("flex items-center px-4 py-3 rounded-lg text-base font-medium transition-all duration-200",$?"bg-white text-black":"text-gray-300 hover:text-white hover:bg-gray-900"),children:[e.jsx(y.icon,{className:"h-5 w-5 mr-3"}),y.name]},y.name)})})})]})})]})},jt="/api",B=ke.create({baseURL:jt});B.interceptors.request.use(t=>{var s;return console.log(`API Request: ${(s=t.method)==null?void 0:s.toUpperCase()} ${t.url}`),t});B.interceptors.response.use(t=>t,t=>{var s;return console.error("API Error:",((s=t.response)==null?void 0:s.data)||t.message),Promise.reject(t)});const Z={startUpload:async(t,s,n=1024*1024)=>(await B.post("/upload/start",{filename:t,fileSize:s,chunkSize:n})).data,uploadChunk:async(t,s,n,a,l=null)=>{const g=new FormData;g.append("sessionId",t),g.append("chunkIndex",s.toString()),g.append("chunk",n);const w={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a};return l&&(w.signal=l),(await B.post("/upload/chunk",g,w)).data},completeUpload:async t=>(await B.post("/upload/complete",{sessionId:t})).data,cancelUpload:async t=>(await B.post("/upload/cancel",{sessionId:t})).data},V={getMovies:async(t=null)=>{const s=t?{status:t}:{};return(await B.get("/movies",{params:s})).data},searchMovies:async(t,s=null)=>{const n={q:t};return s&&(n.status=s),(await B.get("/movies/search",{params:n})).data},getMovie:async t=>(await B.get(`/movies/${t}`)).data,deleteMovie:async t=>(await B.delete(`/movies/${t}`)).data},Nt=()=>{const[t,s]=r.useState([]),[n,a]=r.useState(!1),l=r.useRef(null),g=r.useRef(new Map),w=r.useRef([]);r.useEffect(()=>{w.current=t},[t]),r.useEffect(()=>{const o=localStorage.getItem("soulstream_uploads");if(o)try{const h=JSON.parse(o).filter(v=>v.status==="uploading"||v.status==="paused");h.length>0&&(s(h),setTimeout(()=>{h.forEach(v=>{v.status==="uploading"&&T(v.id)})},100))}catch(u){console.error("Error restoring uploads:",u)}const m=()=>{document.hidden?console.log("Page hidden - uploads continue in background"):console.log("Page visible - checking upload status")};return document.addEventListener("visibilitychange",m),()=>document.removeEventListener("visibilitychange",m)},[]),r.useEffect(()=>{const o=t.map(m=>({...m,file:void 0,chunks:m.chunks?m.chunks.map(u=>({index:u.index,uploaded:u.uploaded||!1})):[]}));localStorage.setItem("soulstream_uploads",JSON.stringify(o))},[t]),r.useEffect(()=>{const o=localStorage.getItem("soulstream_uploads");if(o)try{const u=JSON.parse(o).filter(h=>h.status==="uploading"||h.status==="paused");u.length>0&&(s(u.map(h=>({...h,file:void 0,chunks:h.chunks||[]}))),setTimeout(()=>{u.forEach(h=>{h.status==="uploading"&&T(h.id)})},100))}catch(m){console.error("Error restoring uploads:",m)}},[]);const y=o=>{o.preventDefault(),a(!0)},$=o=>{o.preventDefault(),a(!1)},A=o=>{o.preventDefault(),a(!1);const m=Array.from(o.dataTransfer.files);R(m)},I=o=>{const m=Array.from(o.target.files);R(m)},R=o=>{const m=o.filter(u=>u.type.startsWith("video/"));if(m.length===0){alert("No video files selected. Please select video files only.");return}m.forEach(u=>{_(u)})},_=async o=>{var h,v,j,N,F;const m=Date.now()+Math.random(),u={id:m,file:o,progress:0,status:"starting",sessionId:null,chunks:[],error:null,isPaused:!1,uploadedChunks:0,totalChunks:0};s(k=>[...k,u]);try{const k=await Z.startUpload(o.name,o.size);x(m,{sessionId:k.sessionId,status:"uploading",movieInfo:k.movieInfo}),await p(m,o,k)}catch(k){console.error("Upload failed:",k);let f=((v=(h=k.response)==null?void 0:h.data)==null?void 0:v.error)||k.message;((j=k.response)==null?void 0:j.status)===429?f="Upload rate limit reached. Please wait a moment and try again.":((N=k.response)==null?void 0:N.status)===413?f="File chunk too large. Please try uploading a smaller file.":((F=k.response)==null?void 0:F.status)===500&&(f="Server error. Please try again later."),x(m,{status:"error",error:f})}},p=async(o,m,u)=>{const{sessionId:h,chunkSize:v,totalChunks:j}=u,N=[];for(let f=0;f<j;f++){const M=f*v,W=Math.min(M+v,m.size),H=m.slice(M,W);N.push({index:f,data:H,uploaded:!1})}x(o,{chunks:N,totalChunks:j,uploadedChunks:0});const F=new AbortController;g.current.set(o,F);const k=3;for(let f=0;f<N.length;f+=k){const M=w.current.find(C=>C.id===o);if(F.signal.aborted||M&&M.isPaused){console.log("Upload stopped:",M!=null&&M.isPaused?"paused":"cancelled");break}const H=N.slice(f,f+k).map(C=>S(o,h,C,0,F.signal));try{await Promise.all(H)}catch(C){if(C.name==="AbortError"||C.message==="Upload aborted"){console.log("🔄 Upload batch aborted (paused or cancelled)");return}throw console.log("❌ Upload batch failed:",C),C}}try{const f=await Z.completeUpload(h);x(o,{status:"processing",progress:100,movieId:f.movieId}),g.current.delete(o)}catch(f){throw f}},S=async(o,m,u,h=0,v=null)=>{var j;try{if(v&&v.aborted)throw console.log(`⏸️ Chunk ${u.index} upload aborted before starting`),new Error("Upload aborted");await Z.uploadChunk(m,u.index,u.data,N=>{N.lengthComputable&&O(o,u.index,N.loaded,N.total)},v),P(o,u.index)}catch(N){if(N.name==="AbortError"||N.message==="Upload aborted")throw N;if(((j=N.response)==null?void 0:j.status)===429&&h<3)return console.log(`Rate limited, retrying chunk ${u.index} (attempt ${h+1})`),await new Promise(F=>setTimeout(F,Math.pow(2,h)*1e3)),S(o,m,u,h+1,v);throw N}},x=(o,m)=>{s(u=>u.map(h=>h.id===o?{...h,...m}:h))},O=(o,m,u,h)=>{s(v=>v.map(j=>{if(j.id===o&&j.chunks){const N=j.chunks.map(M=>M.index===m?{...M,loaded:u,total:h}:M),F=N.reduce((M,W)=>M+(W.loaded||0),0),k=j.file.size,f=F/k*100;return{...j,chunks:N,progress:f}}return j}))},P=(o,m)=>{s(u=>u.map(h=>{if(h.id===o&&h.chunks){const v=h.chunks.map(j=>j.index===m?{...j,uploaded:!0}:j);return{...h,chunks:v}}return h}))},d=o=>{s(m=>m.filter(u=>u.id!==o))},c=async o=>{const m=t.find(h=>h.id===o);if(!m||!m.sessionId)return;const u=g.current.get(o);u&&(u.abort(),g.current.delete(o));try{await Z.cancelUpload(m.sessionId),console.log(`Upload cancelled: ${o}`)}catch(h){console.error("Error cancelling upload:",h)}d(o)},E=o=>{console.log(`🔄 Pausing upload: ${o}`);const m=g.current.get(o);m?(console.log("✅ Aborting upload controller"),m.abort()):console.log("⚠️ No controller found for upload"),x(o,{status:"paused",isPaused:!0}),console.log(`✅ Upload paused: ${o}`)},T=async o=>{var u,h;console.log(`▶️ Resuming upload: ${o}`);const m=t.find(v=>v.id===o);if(!m){console.log("⚠️ Upload not found for resume");return}x(o,{status:"uploading",isPaused:!1});try{m.chunks&&m.sessionId&&(console.log("🔄 Starting continueUploadChunks"),await J(o,m.file,m.sessionId,m.chunks))}catch(v){console.error("❌ Error resuming upload:",v),x(o,{status:"error",error:((h=(u=v.response)==null?void 0:u.data)==null?void 0:h.error)||v.message})}},J=async(o,m,u,h)=>{if(!t.find(f=>f.id===o))return;const j=new AbortController;g.current.set(o,j);const N=h.filter(f=>!f.uploaded),F=3;for(let f=0;f<N.length;f+=F){const M=w.current.find(C=>C.id===o);if(j.signal.aborted||M&&M.isPaused){console.log("Continue upload stopped:",M!=null&&M.isPaused?"paused":"cancelled");break}const H=N.slice(f,f+F).map(C=>S(o,u,C,0,j.signal));try{await Promise.all(H)}catch(C){if(C.name==="AbortError"){console.log("🔄 Continue upload batch aborted (paused or cancelled)");return}throw console.log("❌ Continue upload batch failed:",C),C}}const k=t.find(f=>f.id===o);if(k&&k.chunks.every(f=>f.uploaded))try{const f=await Z.completeUpload(u);x(o,{status:"processing",progress:100,movieId:f.movieId}),g.current.delete(o)}catch(f){throw f}};return e.jsx("div",{className:"min-h-screen bg-black text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Upload Movies"}),e.jsx("p",{className:"text-gray-300 text-base sm:text-lg max-w-xl mx-auto",children:"Drag and drop your movie files below, or click to browse. SoulStream supports large files, chunked uploads, and background processing."})]}),uploadQueue.length>0&&e.jsx("div",{className:"mb-6 p-4 bg-gray-900 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Upload Queue"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[uploadQueue.length," file",uploadQueue.length!==1?"s":""," waiting to upload"]})]}),isProcessingQueue&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Processing..."})]})]})}),e.jsxs("div",{className:"relative flex flex-col items-center justify-center border-2 border-dashed rounded-lg py-16 px-6 mb-10 transition-all duration-200 cursor-pointer "+(n?"border-white bg-gray-900":"border-gray-600 bg-gray-900 hover:border-gray-400"),onDragOver:y,onDragLeave:$,onDrop:A,onClick:()=>{var o;return(o=l.current)==null?void 0:o.click()},tabIndex:0,role:"button","aria-label":"Upload area",children:[e.jsx("input",{type:"file",accept:"video/*",multiple:!0,ref:l,className:"hidden",onChange:I}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("p",{className:"text-lg text-white font-semibold mb-2",children:"Drop your movie files here"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"or click to select files"})]})]}),t.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Uploads"}),t.map(o=>e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3",children:[e.jsx("span",{className:"font-semibold text-white truncate",children:o.file.name}),e.jsxs("span",{className:"text-xs text-gray-400",children:[(o.file.size/(1024*1024)).toFixed(2)," MB"]}),o.status==="uploading"&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-blue-900 text-blue-300 text-xs",children:"Uploading"}),o.status==="processing"&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-yellow-900 text-yellow-300 text-xs",children:"Processing"}),o.status==="paused"&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-800 text-gray-300 text-xs",children:"Paused"}),o.status==="error"&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-red-900 text-red-300 text-xs",children:"Error"})]}),e.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden mb-3",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-300 "+(o.status==="processing"?"bg-yellow-500":o.status==="error"?"bg-red-500":"bg-white"),style:{width:`${o.progress||0}%`}})}),o.status==="error"&&e.jsx("div",{className:"text-red-400 text-xs",children:o.error})]}),e.jsxs("div",{className:"flex flex-row gap-2 sm:flex-shrink-0",children:[o.status==="uploading"&&e.jsx("button",{onClick:()=>E(o.id),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-colors",title:"Pause",children:e.jsx(ge,{className:"w-5 h-5"})}),o.status==="paused"&&e.jsx("button",{onClick:()=>T(o.id),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-colors",title:"Resume",children:e.jsx(D,{className:"w-5 h-5"})}),(o.status==="uploading"||o.status==="paused")&&e.jsx("button",{onClick:()=>c(o.id),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-colors",title:"Cancel",children:e.jsx(te,{className:"w-5 h-5"})}),(o.status==="error"||o.status==="processing")&&e.jsx("button",{onClick:()=>d(o.id),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-colors",title:"Remove from list",children:e.jsx(te,{className:"w-5 h-5"})})]})]})},o.id))]})]})})},kt=t=>{try{const s=JSON.parse(localStorage.getItem("soulstream_progress")||"{}");return t.filter(n=>{const a=s[n.id];if(!a||!n.duration)return!1;const l=a.currentTime/(a.duration||n.duration);return l>.01&&l<.9&&n.status==="ready"}).map(n=>{const a=s[n.id];return{...n,resumeTime:a.currentTime,resumePercent:Math.min(100,Math.round(a.currentTime/(a.duration||n.duration)*100))}})}catch{return[]}},Mt=t=>t.filter(s=>s.status==="ready").sort((s,n)=>new Date(n.uploaded_at)-new Date(s.uploaded_at))[0]||null,Et=()=>{const[t,s]=r.useState([]),[n,a]=r.useState(!0),[l,g]=r.useState(""),[w,y]=r.useState([]),[$,A]=r.useState(!1),[I,R]=r.useState(null);r.useEffect(()=>{_();const c=setInterval(_,3e4);return()=>clearInterval(c)},[]);const _=async()=>{try{const c=await V.getMovies();s(c),R(null)}catch(c){console.error("Failed to load movies:",c),R("Failed to load movies")}finally{a(!1)}},p=async c=>{if(confirm("Are you sure you want to delete this movie? This action cannot be undone."))try{await V.deleteMovie(c),s(E=>E.filter(T=>T.id!==c))}catch(E){console.error("Failed to delete movie:",E),alert("Failed to delete movie. Please try again.")}},S=r.useMemo(()=>kt(t),[t]),x=r.useMemo(()=>Mt(t),[t]),O=r.useCallback(async c=>{if(!c.trim()){y([]);return}A(!0);try{const E=await V.searchMovies(c,"ready");y(E)}catch(E){console.error("Search failed:",E),y([])}finally{A(!1)}},[]);r.useEffect(()=>{const c=setTimeout(()=>{O(l)},300);return()=>clearTimeout(c)},[l,O]);const P=r.useMemo(()=>l.trim()?w:t.filter(c=>c.status==="ready"),[t,l,w]),d=c=>{if(!c)return"Unknown";const E=Math.floor(c/3600),T=Math.floor(c%3600/60);return E>0?`${E}h ${T}m`:`${T}m`};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):I?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 mb-4",children:I}),e.jsx("button",{onClick:_,className:"px-6 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:"Try Again"})]}):e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[x&&e.jsxs("div",{className:"relative w-full h-[60vh] md:h-[70vh] lg:h-[80vh] flex flex-col justify-end overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[x.posterUrl?e.jsx("img",{src:x.posterUrl,alt:x.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-b from-gray-900 to-black"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"})]}),e.jsx("div",{className:"relative z-10 px-4 sm:px-8 lg:px-16 pb-8 md:pb-16",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:x.title}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm md:text-base",children:[e.jsx("span",{className:"text-green-400 font-semibold",children:"98% Match"}),e.jsx("span",{children:x.year||"2023"}),e.jsx("span",{children:x.duration?d(x.duration):"2h 15m"}),e.jsx("span",{className:"border border-gray-400 px-1 text-xs",children:"HD"})]}),e.jsx("p",{className:"text-sm md:text-lg text-gray-300 mb-6 max-w-2xl",children:x.description||"A compelling story that will keep you on the edge of your seat."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(L,{to:`/player/${x.id}`,className:"flex items-center gap-2 px-6 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(D,{className:"w-5 h-5"}),"Play"]}),e.jsx(L,{to:`/movie/${x.id}`,className:"flex items-center gap-2 px-6 py-3 bg-gray-800 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors",children:"More Info"})]})]})})]}),e.jsx("div",{className:"px-4 sm:px-8 lg:px-16 py-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx("input",{type:"text",placeholder:"Search movies...",value:l,onChange:c=>g(c.target.value),className:"w-full px-4 py-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-white pr-10"}),$?e.jsx("div",{className:"absolute right-3 top-3.5",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):e.jsx(K,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"})]})}),S.length>0&&e.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 mb-8",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:"Continue Watching"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:S.map(c=>e.jsx("div",{className:"group relative",children:e.jsxs(L,{to:`/player/${c.id}?resume=1`,children:[e.jsxs("div",{className:"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden relative",children:[c.posterUrl?e.jsx("img",{src:c.posterUrl,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-800",children:e.jsx(D,{className:"h-12 w-12 text-gray-400"})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gray-700",children:e.jsx("div",{className:"h-full bg-white",style:{width:`${c.resumePercent}%`}})})]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2 truncate",children:c.title})]})},c.id))})]}),e.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 mb-8",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:l?`Search Results for "${l}"`:"All Movies"}),P.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-gray-400 text-lg",children:l?"No movies found matching your search.":"No movies available yet."}),!l&&e.jsx(L,{to:"/upload",className:"inline-block mt-4 px-6 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:"Upload Your First Movie"})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:P.map(c=>e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden relative",children:[c.posterUrl?e.jsx("img",{src:c.posterUrl,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-800",children:e.jsx(D,{className:"h-12 w-12 text-gray-400"})}),e.jsx(L,{to:`/player/${c.id}`,className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:e.jsx(D,{className:"h-8 w-8 text-white"})}),e.jsx(L,{to:`/movie/${c.id}`,className:"absolute top-2 left-2 px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-75",children:"More Info"}),e.jsx("button",{onClick:()=>p(c.id),className:"absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-75",children:e.jsx(gt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"font-medium text-white truncate text-sm",title:c.title,children:c.title}),e.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-400",children:[c.year&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),c.year]}),c.duration&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),d(c.duration)]})]})]})]},c.id))})]})]})},St=t=>{try{const s=JSON.parse(localStorage.getItem("soulstream_progress")||"{}");return t.filter(n=>{const a=s[n.id];if(!a||!n.duration)return!1;const l=a.currentTime/(a.duration||n.duration);return l>.01&&l<.9}).map(n=>{const a=s[n.id];return{...n,resumeTime:a.currentTime,resumePercent:Math.min(100,Math.round(a.currentTime/(a.duration||n.duration)*100))}})}catch{return[]}},Ct=t=>t.sort((s,n)=>new Date(n.uploaded_at)-new Date(s.uploaded_at))[0]||null,Lt=()=>{const[t,s]=r.useState([]),[n,a]=r.useState(!0),[l,g]=r.useState(""),[w,y]=r.useState([]),[$,A]=r.useState(!1),[I,R]=r.useState(null);r.useEffect(()=>{_();const d=setInterval(_,3e4);return()=>clearInterval(d)},[]);const _=async()=>{try{const d=await V.getMovies();s(d),R(null)}catch(d){console.error("Failed to load movies:",d),R("Failed to load movies")}finally{a(!1)}},p=r.useCallback(async d=>{if(!d.trim()){y([]);return}A(!0);try{const c=await V.searchMovies(d);y(c)}catch(c){console.error("Search failed:",c),y([])}finally{A(!1)}},[]);r.useEffect(()=>{const d=setTimeout(()=>{p(l)},300);return()=>clearTimeout(d)},[l,p]);const S=r.useMemo(()=>St(t),[t]),x=r.useMemo(()=>Ct(t),[t]),O=r.useMemo(()=>l.trim()?w:t,[t,l,w]),P=d=>{if(!d)return"Unknown";const c=Math.floor(d/3600),E=Math.floor(d%3600/60);return c>0?`${c}h ${E}m`:`${E}m`};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):I?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 mb-4",children:I}),e.jsx("button",{onClick:_,className:"px-6 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:"Try Again"})]}):e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[x&&e.jsxs("div",{className:"relative w-full h-[60vh] md:h-[70vh] lg:h-[80vh] flex flex-col justify-end overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[x.posterUrl?e.jsx("img",{src:x.posterUrl,alt:x.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-b from-gray-900 to-black"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"})]}),e.jsx("div",{className:"relative z-10 px-4 sm:px-8 lg:px-16 pb-8 md:pb-16",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:x.title}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm md:text-base",children:[e.jsx("span",{className:"text-green-400 font-semibold",children:"98% Match"}),e.jsx("span",{children:x.year||"2023"}),e.jsx("span",{children:x.duration?P(x.duration):"2h 15m"}),e.jsx("span",{className:"border border-gray-400 px-1 text-xs",children:"HD"})]}),e.jsx("p",{className:"text-sm md:text-lg text-gray-300 mb-6 max-w-2xl",children:"A compelling story that will keep you on the edge of your seat."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(L,{to:`/player/${x.id}`,className:"flex items-center gap-2 px-6 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(D,{className:"w-5 h-5"}),"Play"]}),e.jsx(L,{to:`/movie/${x.id}`,className:"flex items-center gap-2 px-6 py-3 bg-gray-800 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors",children:"More Info"})]})]})})]}),e.jsx("div",{className:"px-4 sm:px-8 lg:px-16 py-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx("input",{type:"text",placeholder:"Search movies...",value:l,onChange:d=>g(d.target.value),className:"w-full px-4 py-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-white pr-10"}),$?e.jsx("div",{className:"absolute right-3 top-3.5",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):e.jsx(K,{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400"})]})}),S.length>0&&e.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 mb-8",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:"Continue Watching"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:S.map(d=>e.jsx("div",{className:"group relative",children:e.jsxs(L,{to:`/player/${d.id}?resume=1`,children:[e.jsxs("div",{className:"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden relative",children:[d.posterUrl?e.jsx("img",{src:d.posterUrl,alt:d.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-800",children:e.jsx(D,{className:"h-12 w-12 text-gray-400"})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gray-700",children:e.jsx("div",{className:"h-full bg-white",style:{width:`${d.resumePercent}%`}})})]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2 truncate",children:d.title})]})},d.id))})]}),e.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 mb-8",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-4",children:l?`Search Results for "${l}"`:"All Movies"}),O.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-400 text-lg",children:l?"No movies found matching your search.":"No movies available yet."})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:O.map(d=>e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden relative",children:[d.posterUrl?e.jsx("img",{src:d.posterUrl,alt:d.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-800",children:e.jsx(D,{className:"h-12 w-12 text-gray-400"})}),e.jsx(L,{to:`/player/${d.id}`,className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:e.jsx(D,{className:"h-8 w-8 text-white"})}),e.jsx(L,{to:`/movie/${d.id}`,className:"absolute top-2 left-2 px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-75",children:"More Info"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"font-medium text-white truncate text-sm",title:d.title,children:d.title}),e.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-400",children:[d.year&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),d.year]}),d.duration&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),P(d.duration)]})]})]})]},d.id))})]})]})},$t=()=>{const{movieId:t}=me(),s=r.useRef(null),n=r.useRef(null),[a,l]=r.useState(null),[g,w]=r.useState(!0),[y,$]=r.useState(null),[A,I]=r.useState(!1),[R,_]=r.useState(0),[p,S]=r.useState(0),[x,O]=r.useState(1),[P,d]=r.useState(!1),[c,E]=r.useState(!1),[T,J]=r.useState(!0),[o,m]=r.useState(0),u=r.useRef(null);r.useEffect(()=>{h()},[t]),r.useEffect(()=>(a&&s.current&&v(),()=>{n.current&&n.current.destroy()}),[a]),r.useEffect(()=>{const i=()=>{J(!0),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{A&&J(!1)},3e3)},b=()=>i(),U=()=>i();return document.addEventListener("mousemove",b),document.addEventListener("keydown",U),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("keydown",U),u.current&&clearTimeout(u.current)}},[A]);const h=async()=>{try{const i=await V.getMovie(t);l(i),$(null)}catch(i){console.error("Failed to load movie:",i),$("Failed to load movie")}finally{w(!1)}},v=()=>{const i=s.current;if(i){if(console.log("Initializing player for movie:",a),console.log("Stream URL:",a.streamUrl),console.log("Download URL:",a.downloadUrl),a.streamUrl&&X.isSupported()){console.log("Using HLS streaming");const b=new X({enableWorker:!0,lowLatencyMode:!1,backBufferLength:90,debug:!0});b.loadSource(a.streamUrl),b.attachMedia(i),b.on(X.Events.MANIFEST_PARSED,()=>{console.log("HLS manifest parsed successfully"),i.play().catch(U=>console.log("Auto-play failed:",U))}),b.on(X.Events.ERROR,(U,z)=>{console.error("HLS error:",z),z.fatal&&(console.log("Fatal HLS error, falling back to MP4"),j())}),n.current=b}else console.log("Using direct MP4 playback"),i.src=a.downloadUrl,i.addEventListener("loadedmetadata",()=>{console.log("MP4 metadata loaded"),i.play().catch(b=>console.log("Auto-play failed:",b))}),i.addEventListener("error",b=>{console.error("Video error:",b),$("Failed to load video")});i.addEventListener("loadedmetadata",N),i.addEventListener("timeupdate",F),i.addEventListener("progress",k),i.addEventListener("play",()=>I(!0)),i.addEventListener("pause",()=>I(!1)),i.addEventListener("ended",()=>I(!1)),i.addEventListener("volumechange",f),document.addEventListener("keydown",M)}},j=()=>{n.current&&(n.current.destroy(),n.current=null);const i=s.current;i&&a.downloadUrl&&(i.src=a.downloadUrl)},N=()=>{const i=s.current;i&&(S(i.duration),O(i.volume))},F=()=>{const i=s.current;if(i){_(i.currentTime);try{const b="soulstream_progress";let U=JSON.parse(localStorage.getItem(b)||"{}");i.currentTime>.9*i.duration?delete U[t]:U[t]={currentTime:i.currentTime,duration:i.duration||p||0,updated:Date.now()},localStorage.setItem(b,JSON.stringify(U))}catch{}}},k=()=>{const i=s.current;if(i&&i.buffered.length>0){const b=i.buffered.end(i.buffered.length-1);m(b/i.duration*100)}},f=()=>{const i=s.current;i&&(O(i.volume),d(i.muted))},M=i=>{switch(i.code){case"Space":i.preventDefault(),W();break;case"ArrowLeft":i.preventDefault(),H(R-10);break;case"ArrowRight":i.preventDefault(),H(R+10);break;case"KeyM":i.preventDefault(),G();break;case"KeyF":i.preventDefault(),ae();break}},W=()=>{const i=s.current;i&&(i.paused?i.play():i.pause())},H=i=>{const b=s.current;b&&(b.currentTime=Math.max(0,Math.min(i,p)))},C=i=>{const b=i.currentTarget.getBoundingClientRect(),z=(i.clientX-b.left)/b.width*p;H(z)},G=()=>{const i=s.current;i&&(i.muted=!i.muted)},fe=i=>{const b=s.current;if(b){const U=parseFloat(i.target.value);b.volume=U,b.muted=U===0}},ae=()=>{var b;const i=(b=s.current)==null?void 0:b.parentElement;i&&(document.fullscreenElement?document.exitFullscreen().then(()=>{E(!1)}).catch(console.error):i.requestFullscreen().then(()=>{E(!0)}).catch(console.error))},Y=i=>{if(!i||!isFinite(i))return"0:00";const b=Math.floor(i/3600),U=Math.floor(i%3600/60),z=Math.floor(i%60);return b>0?`${b}:${U.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`:`${U}:${z.toString().padStart(2,"0")}`};return g?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):y||!a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:y||"Movie not found"}),e.jsx(L,{to:"/",className:"btn-primary",children:"Back to Library"})]}):a.status!=="ready"?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-yellow-600 mb-4",children:"This movie is still being processed. Please check back later."}),e.jsx(L,{to:"/",className:"btn-primary",children:"Back to Library"})]}):e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(L,{to:"/",className:"inline-flex items-center px-4 py-3 text-sm font-semibold text-gray-300 hover:text-white bg-gradient-to-r from-gray-800 to-gray-700 hover:from-gray-700 hover:to-gray-600 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(xe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"🌊 Back to SoulStream"})]})}),e.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden shadow-2xl border border-gray-800",children:[e.jsx("video",{ref:s,className:"w-full h-auto max-h-[70vh] sm:max-h-none",poster:a.posterUrl,preload:"metadata",onClick:W}),e.jsxs("div",{className:`video-controls transition-opacity duration-300 ${T?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsxs("div",{className:"relative h-3 sm:h-2 bg-gray-700 rounded-full cursor-pointer",onClick:C,children:[e.jsx("div",{className:"absolute h-full bg-gray-600 rounded-full",style:{width:`${o}%`}}),e.jsx("div",{className:"absolute h-full bg-gradient-to-r from-red-500 to-purple-600 rounded-full shadow-lg",style:{width:`${p?R/p*100:0}%`}}),e.jsx("div",{className:"absolute w-5 h-5 sm:w-4 sm:h-4 bg-white rounded-full -mt-1 -ml-2 shadow-xl border-2 border-red-500",style:{left:`${p?R/p*100:0}%`}})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsx("button",{onClick:W,className:"text-white hover:text-red-400 transition-all duration-200 bg-black/30 p-2 rounded-full hover:bg-red-600/30",children:A?e.jsx(ge,{className:"h-8 w-8 sm:h-6 sm:w-6"}):e.jsx(D,{className:"h-8 w-8 sm:h-6 sm:w-6"})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[e.jsx("button",{onClick:G,className:"text-white hover:text-red-400 transition-colors",children:P||x===0?e.jsx(ie,{className:"h-5 w-5"}):e.jsx(le,{className:"h-5 w-5"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:P?0:x,onChange:fe,className:"w-20 h-1 bg-gray-600 rounded-full appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"text-white text-xs sm:text-sm font-mono bg-black/30 px-2 py-1 rounded",children:[Y(R)," / ",Y(p)]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-3 sm:space-x-4",children:[e.jsx("button",{onClick:G,className:"sm:hidden text-white hover:text-red-400 transition-colors bg-black/30 p-2 rounded-full",children:P||x===0?e.jsx(ie,{className:"h-5 w-5"}):e.jsx(le,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-white text-xs sm:text-sm flex-1 sm:flex-none",children:[e.jsx("span",{className:"font-medium truncate block sm:inline",children:a.title}),a.year&&e.jsxs("span",{className:"text-gray-300 ml-1 hidden sm:inline",children:["(",a.year,")"]})]}),e.jsx("button",{onClick:ae,className:"text-white hover:text-red-400 transition-colors bg-black/30 p-2 rounded-full hover:bg-red-600/30",children:c?e.jsx(Ae,{className:"h-5 w-5"}):e.jsx(Oe,{className:"h-5 w-5"})})]})]})]}),g&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-br from-gray-900 to-black rounded-xl p-4 sm:p-6 border border-gray-800 shadow-2xl",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-gray-300 text-sm sm:text-base",children:[a.year&&e.jsx("span",{className:"bg-red-600 text-white px-2 py-1 rounded-full text-xs",children:a.year}),a.duration&&e.jsxs("span",{children:["🕒 ",Y(a.duration)]}),e.jsx("span",{className:"capitalize bg-purple-600 text-white px-2 py-1 rounded-full text-xs",children:a.status})]}),e.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-gradient-to-r from-gray-800 to-gray-900 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"font-semibold text-red-300 mb-2 text-sm sm:text-base",children:"⌨️ Soul Commands"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm text-gray-300",children:[e.jsxs("div",{children:[e.jsx("kbd",{className:"bg-black border border-red-500 px-2 py-1 rounded text-red-300",children:"Space"})," Play/Pause"]}),e.jsxs("div",{children:[e.jsx("kbd",{className:"bg-black border border-red-500 px-2 py-1 rounded text-red-300",children:"←/→"})," Seek ±10s"]}),e.jsxs("div",{children:[e.jsx("kbd",{className:"bg-black border border-red-500 px-2 py-1 rounded text-red-300",children:"M"})," Mute/Unmute"]}),e.jsxs("div",{children:[e.jsx("kbd",{className:"bg-black border border-red-500 px-2 py-1 rounded text-red-300",children:"F"})," Fullscreen"]})]})]})]})]})},Rt=()=>{const{movieId:t}=me(),s=ye(),[n,a]=r.useState(null),[l,g]=r.useState(null),[w,y]=r.useState(!0),[$,A]=r.useState(null);r.useEffect(()=>{I()},[t]);const I=async()=>{try{const p=await V.getMovie(t);a(p),p.title&&await R(p.title,p.year),A(null)}catch(p){console.error("Failed to load movie:",p),A("Failed to load movie")}finally{y(!1)}},R=async(p,S)=>{try{const x=S?`${p} ${S}`:p,O=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=1b5adf76a72c13da98fb8e091c24305&query=${encodeURIComponent(x)}&language=en-US&page=1&include_adult=false`);if(O.ok){const P=await O.json();if(P.results&&P.results.length>0){const d=P.results[0],c=await fetch(`https://api.themoviedb.org/3/movie/${d.id}?api_key=1b5adf76a72c13da98fb8e091c24305&language=en-US&append_to_response=credits`);if(c.ok){const E=await c.json();g({...d,...E,poster_path:d.poster_path?`https://image.tmdb.org/t/p/w500${d.poster_path}`:null,backdrop_path:d.backdrop_path?`https://image.tmdb.org/t/p/original${d.backdrop_path}`:null})}else g(d)}}}catch(x){console.error("Failed to fetch movie details:",x)}},_=p=>{if(!p)return"Unknown";const S=Math.floor(p/3600),x=Math.floor(p%3600/60);return S>0?`${S}h ${x}m`:`${x}m`};return w?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):$||!n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 mb-4",children:$||"Movie not found"}),e.jsx("button",{onClick:()=>s("/"),className:"px-6 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:"Back to Library"})]}):e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx("div",{className:"px-4 sm:px-8 lg:px-16 py-4",children:e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(xe,{className:"h-5 w-5"}),"Back to Library"]})}),e.jsx("div",{className:"px-4 sm:px-8 lg:px-16 pb-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden",children:n.posterUrl?e.jsx("img",{src:n.posterUrl,alt:n.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-800",children:e.jsx(qe,{className:"h-24 w-24 text-gray-400"})})})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:n.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm",children:[n.year&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-4 w-4"}),n.year]}),n.duration&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(re,{className:"h-4 w-4"}),_(n.duration)]}),e.jsx("span",{className:"border border-gray-400 px-2 py-1 text-xs rounded",children:"HD"})]}),l&&e.jsxs("div",{className:"space-y-4 mb-6",children:[l.vote_average&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-5 w-5 text-yellow-400"}),e.jsxs("span",{className:"font-semibold",children:[l.vote_average.toFixed(1),"/10"]}),e.jsxs("span",{className:"text-gray-400",children:["(",l.vote_count," votes)"]})]}),l.genres&&l.genres.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:l.genres.map((p,S)=>e.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-full text-sm",children:p.name},S))}),l.credits&&l.credits.crew&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Director: "}),e.jsx("span",{children:l.credits.crew.filter(p=>p.job==="Director").map(p=>p.name).join(", ")})]}),l.credits&&l.credits.cast&&l.credits.cast.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Cast: "}),e.jsxs("span",{children:[l.credits.cast.slice(0,5).map(p=>p.name).join(", "),l.credits.cast.length>5&&"..."]})]}),l.overview&&e.jsx("p",{className:"text-gray-300 leading-relaxed",children:l.overview})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(L,{to:`/player/${n.id}`,className:"flex items-center gap-2 px-8 py-3 bg-white text-black font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(D,{className:"w-5 h-5"}),"Play Movie"]}),e.jsxs("button",{className:"flex items-center gap-2 px-8 py-3 bg-gray-800 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(bt,{className:"w-5 h-5"}),"Watch with Friends"]})]})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.original_language&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Language"}),e.jsx("p",{className:"uppercase",children:l.original_language})]}),l.production_countries&&l.production_countries.length>0&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Country"}),e.jsx("p",{children:l.production_countries.map(p=>p.name).join(", ")})]}),l.release_date&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Release Date"}),e.jsx("p",{children:new Date(l.release_date).toLocaleDateString()})]}),l.budget&&l.budget>0&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Budget"}),e.jsxs("p",{children:["$",(l.budget/1e6).toFixed(1),"M"]})]}),l.revenue&&l.revenue>0&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Revenue"}),e.jsxs("p",{children:["$",(l.revenue/1e6).toFixed(1),"M"]})]}),l.runtime&&e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Runtime"}),e.jsxs("p",{children:[l.runtime," minutes"]})]})]})]})})]})};function Ut(){return e.jsx(we,{children:e.jsxs("div",{className:"min-h-screen bg-black flex flex-col md:flex-row",children:[e.jsx(wt,{}),e.jsx("div",{className:"flex-1 flex flex-col min-h-screen",children:e.jsx("main",{className:"flex-1 max-w-7xl mx-auto w-full px-2 sm:px-4 lg:px-8 py-8",children:e.jsxs(je,{children:[e.jsx(Q,{path:"/",element:e.jsx(Et,{})}),e.jsx(Q,{path:"/media-only",element:e.jsx(Lt,{})}),e.jsx(Q,{path:"/upload",element:e.jsx(Nt,{})}),e.jsx(Q,{path:"/player/:movieId",element:e.jsx($t,{})}),e.jsx(Q,{path:"/movie/:movieId",element:e.jsx(Rt,{})})]})})})]})})}ee.createRoot(document.getElementById("root")).render(e.jsx(Ne.StrictMode,{children:e.jsx(Ut,{})}));
